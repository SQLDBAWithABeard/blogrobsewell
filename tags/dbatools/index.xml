<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Dbatools on Rob Sewell (aka SQL DBA With A Beard)</title><link>https://blog.robsewell.com/tags/dbatools/</link><description>Recent content in Dbatools on Rob Sewell (aka SQL DBA With A Beard)</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Wed, 23 Apr 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.robsewell.com/tags/dbatools/index.xml" rel="self" type="application/rss+xml"/><item><title>Odd Error with Contained Database Users - look out for your 3rd party vendors</title><link>https://blog.robsewell.com/blog/odd-error-with-contained-database-users-look-out-for-your-3rd-party-vendors/</link><pubDate>Wed, 23 Apr 2025 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/odd-error-with-contained-database-users-look-out-for-your-3rd-party-vendors/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2025/contained.png" alt="Featured image of post Odd Error with Contained Database Users - look out for your 3rd party vendors" /&gt;&lt;h2 id="introduction"&gt;Introduction
&lt;/h2&gt;&lt;p&gt;A contained user can create a Windows login as its own account, although as it cannot grant connect permissions it is then is unable to connect at all.&lt;/p&gt;
&lt;p&gt;So if your vendor application is running as a contained user and during an upgrade it tries to create a login for itself, it will succeed in the creation but then be unable to connect to the SQL Server instance and the upgrade will fail&amp;hellip;&amp;hellip;&amp;hellip;. Sad Trombone.&lt;/p&gt;</description></item><item><title>How to import dbatools from a zip file from the GitHub release into Azure Automation Modules without an error</title><link>https://blog.robsewell.com/blog/how-to-import-dbatools-from-a-zip-file-from-the-github-release-into-azure-automation-modules-without-an-error/</link><pubDate>Thu, 28 Jul 2022 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/how-to-import-dbatools-from-a-zip-file-from-the-github-release-into-azure-automation-modules-without-an-error/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2022/dbatools.jpg" alt="Featured image of post How to import dbatools from a zip file from the GitHub release into Azure Automation Modules without an error" /&gt;&lt;p&gt;There are a number of methods to import PowerShell modules into Azure automation &lt;a class="link" href="https://docs.microsoft.com/en-us/azure/automation/shared-resources/modules?WT.mc_id=DP-MVP-5002693" target="_blank" rel="noopener"
&gt;as described in the documentation here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You may however miss an important piece of information hidden in that documentation if you are uploading a module from a GitHub release instead of via the &lt;a class="link" href="https://www.powershellgallery.com/?WT.mc_id=DP-MVP-5002693" target="_blank" rel="noopener"
&gt;PowerShell Gallery&lt;/a&gt;. The name that you refer to the module must match the module name and module folder name in the zip file.&lt;/p&gt;
&lt;h1 id="method-one---from-gallery"&gt;Method one - from Gallery
&lt;/h1&gt;&lt;p&gt;This is my preferred method for importing modules into Azure Automation accounts, the only bothersome part is remembering to do it twice, once for 5.1 and once for 7.1 as I am sure that if I forget that will be the one module that I will need!&lt;/p&gt;</description></item><item><title>Quickly Creating Test Users in SQL Server using dbatools</title><link>https://blog.robsewell.com/blog/quickly-creating-test-users-in-sql-server-using-dbatools/</link><pubDate>Tue, 05 Apr 2022 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/quickly-creating-test-users-in-sql-server-using-dbatools/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2017/02/remove-them-all.png" alt="Featured image of post Quickly Creating Test Users in SQL Server using dbatools" /&gt;</description></item><item><title>TSQL2sDay - Do I use Notebooks?</title><link>https://blog.robsewell.com/blog/tsql2sday-do-i-use-notebooks/</link><pubDate>Tue, 13 Apr 2021 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/tsql2sday-do-i-use-notebooks/</guid><description>&lt;img src="https://blog.robsewell.com/assets/images/TSQL2sDay150x150.jpg" alt="Featured image of post TSQL2sDay - Do I use Notebooks?" /&gt;&lt;h1 id="do-i-use-notebooks"&gt;Do I use Notebooks?
&lt;/h1&gt;&lt;p&gt;T-SQL Tuesday is the brainchild of Adam Machanic (&lt;a class="link" href="http://dataeducation.com/" target="_blank" rel="noopener"
&gt;Blog&lt;/a&gt; &lt;a class="link" href="https://twitter.com/adammachanic?lang=en" target="_blank" rel="noopener"
&gt;Twitter&lt;/a&gt;). The first T-SQL Tuesday invitation was in December 2009 and it is still going strong. It is a monthly blog party on the second Tuesday of each month. Currently, Steve Jones (&lt;a class="link" href="https://voiceofthedba.com/" target="_blank" rel="noopener"
&gt;Blog&lt;/a&gt; &lt;a class="link" href="https://twitter.com/way0utwest" target="_blank" rel="noopener"
&gt;Twitter&lt;/a&gt;) organises the event and maintains &lt;a class="link" href="http://tsqltuesday.com/" target="_blank" rel="noopener"
&gt;a website with all previous posts&lt;/a&gt;. Everyone is welcome to participate in this monthly blog post.&lt;/p&gt;</description></item><item><title>Creating Azure SQL Database AAD Contained Database Users with an SPN using PowerShell, Secrets Management, Azure Key Vault, and dbatools</title><link>https://blog.robsewell.com/blog/creating-azure-sql-database-aad-contained-database-users-with-an-spn-using-powershell-secrets-management-azure-key-vault-and-dbatools/</link><pubDate>Fri, 21 Aug 2020 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/creating-azure-sql-database-aad-contained-database-users-with-an-spn-using-powershell-secrets-management-azure-key-vault-and-dbatools/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2020/08/image-16.png" alt="Featured image of post Creating Azure SQL Database AAD Contained Database Users with an SPN using PowerShell, Secrets Management, Azure Key Vault, and dbatools" /&gt;&lt;p&gt;Following on from my posts about using Secret Management &lt;a class="link" href="https://blog.robsewell.com/good-bye-import-clixml-use-the-secrets-management-module-for-your-labs-and-demos/" target="_blank" rel="noopener"
&gt;Good bye Import-CliXml&lt;/a&gt; and &lt;a class="link" href="https://blog.robsewell.com/using-secret-management-module-to-run-ssms-vs-code-and-azure-data-studio-as-another-user/" target="_blank" rel="noopener"
&gt;running programmes as a different user&lt;/a&gt;, I have another use case.&lt;/p&gt;
&lt;p&gt;After creating Azure SQL Databases in an Elastic Pool using a process pretty similar to this one &lt;a class="link" href="https://blog.robsewell.com/building-azure-sql-db-with-terraform-using-azure-devops/" target="_blank" rel="noopener"
&gt;I blogged about last year&lt;/a&gt;, I needed to be able to programmatically create users and assign permissions.&lt;/p&gt;
&lt;h2 id="i-need-a-user-to-login-with"&gt;I need a user to login with
&lt;/h2&gt;&lt;p&gt;When I created my Azure SQL Server with Terraform, I set the Azure Admin to be a SPN as you can see in the image from the portal and set it to have an identity using the documentation for &lt;a class="link" href="https://www.terraform.io/docs/providers/azurerm/r/sql_server.html" target="_blank" rel="noopener"
&gt;azurerm_mssql_server&lt;/a&gt;.&lt;/p&gt;</description></item><item><title>Notifying a Teams Channel of a SQL Agent Job result</title><link>https://blog.robsewell.com/blog/notifying-a-teams-channel-of-a-sql-agent-job-result/</link><pubDate>Wed, 29 Jul 2020 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/notifying-a-teams-channel-of-a-sql-agent-job-result/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2020/07/image-18.png" alt="Featured image of post Notifying a Teams Channel of a SQL Agent Job result" /&gt;&lt;p&gt;Following on from &lt;a class="link" href="https://blog.robsewell.com/sending-a-sql-agent-job-results-overview-to-a-microsoft-teams-channel/" target="_blank" rel="noopener"
&gt;yesterdays post about creating an overview of SQL Agent Job Results and sending it to a Teams channel&lt;/a&gt;, I was given another challenge&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Can you write a job step that I can add to SQL Agent jobs that can send the result of that job to a Teams Channel&lt;/p&gt;
&lt;p&gt;A person with a need&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The use case was for some migration projects that had steps that were scheduled via SQL Agent Jobs and instead of the DBA having to estimate when they would finish and keep checking so that they could let the next team know that it was time for their part to start, they wanted it to notify a Teams channel. This turned out especially useful as the job finished earlier than expected at 3am and the off-shore team could begin their work immediately.&lt;/p&gt;</description></item><item><title>Sending a SQL Agent Job results overview to a Microsoft Teams Channel</title><link>https://blog.robsewell.com/blog/sending-a-sql-agent-job-results-overview-to-a-microsoft-teams-channel/</link><pubDate>Tue, 28 Jul 2020 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/sending-a-sql-agent-job-results-overview-to-a-microsoft-teams-channel/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2020/07/image-11.png" alt="Featured image of post Sending a SQL Agent Job results overview to a Microsoft Teams Channel" /&gt;&lt;p&gt;Microsoft Teams is fantastic for collaboration. It enables groups of people, teams if you like to be able to communicate, collaborate on documents, hold meetings and much much more.&lt;/p&gt;
&lt;h2 id="sql-agent-job-overview"&gt;SQL Agent Job Overview
&lt;/h2&gt;&lt;p&gt;Using &lt;a class="link" href="http://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; we can create a simple script to gather the results of Agent Jobs form a list of instances. Maybe it would be good to be able to get the job runs results every 12 hours so that at 6am in the morning the early-bird DBA can quickly identify if there are any failures that need immediate action and at 6pm , the team can check that everything was ok before they clock off.&lt;/p&gt;</description></item><item><title>Good Bye Import-CliXML ‚Äì Use the Secrets Management module for your labs and demos</title><link>https://blog.robsewell.com/blog/good-bye-import-clixml-use-the-secrets-management-module-for-your-labs-and-demos/</link><pubDate>Sat, 18 Jul 2020 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/good-bye-import-clixml-use-the-secrets-management-module-for-your-labs-and-demos/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2020/07/image-1.png" alt="Featured image of post Good Bye Import-CliXML ‚Äì Use the Secrets Management module for your labs and demos" /&gt;&lt;p&gt;Don‚Äôt want to read all this? There are two dotnet interactive notebooks here with the relevant information for you to use.&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://beard.media/dotnetnotebooks" target="_blank" rel="noopener"
&gt;https://beard.media/dotnetnotebooks&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="jaap-is-awesome"&gt;Jaap is awesome
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://pbs.twimg.com/media/DBbP9lHXYAAopb3?format=jpg&amp;amp;name=4096x4096"
loading="lazy"
&gt;&lt;/p&gt;
&lt;p&gt;I have to start here. For the longest time, whenever anyone has asked me how I store my credentials for use in my demos and labs I have always referred them to Jaap Brassers &lt;a class="link" href="https://twitter.com/Jaap_Brasser" target="_blank" rel="noopener"
&gt;t&lt;/a&gt; blog post&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://www.jaapbrasser.com/quickly-and-securely-storing-your-credentials-powershell/" target="_blank" rel="noopener"
&gt;https://www.jaapbrasser.com/quickly-and-securely-storing-your-credentials-powershell/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="joel-is-also-awesome"&gt;Joel is also awesome!
&lt;/h2&gt;&lt;p&gt;When people wanted a method of storing credentials that didn&amp;rsquo;t involve files on disk I would suggest Joel Bennett‚Äôs &lt;a class="link" href="https://twitter.com/jaykul" target="_blank" rel="noopener"
&gt;t&lt;/a&gt; module BetterCredentials which uses the Windows Credential Manager&lt;/p&gt;</description></item><item><title>New .NET Notebooks are here ‚Äì PowerShell 7 notebooks are here.</title><link>https://blog.robsewell.com/blog/new-net-notebooks-are-here-powershell-7-notebooks-are-here/</link><pubDate>Fri, 07 Feb 2020 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/new-net-notebooks-are-here-powershell-7-notebooks-are-here/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2020/02/image-13.png" alt="Featured image of post New .NET Notebooks are here ‚Äì PowerShell 7 notebooks are here." /&gt;&lt;p&gt;Data Science folk used Notebooks for documentation and to show re-runnable research. Azure Data Studio included this notebook functionality and &lt;a class="link" href="https://blog.robsewell.com/dbatools/dbachecks/blog/jupyter%20notebooks/azure%20data%20studio/powershell/whats-a-sql-notebook-in-azure-data-studio/" target="_blank" rel="noopener"
&gt;added SQL&lt;/a&gt; kernel where &lt;a class="link" href="https://blog.robsewell.com/blog/jupyter%20notebooks/azure%20data%20studio/powershell/dbachecks/dbatools/powershell-in-sql-notebooks-in-azure-data-studio//" target="_blank" rel="noopener"
&gt;with a little bit of faffing you could run PowerShell&lt;/a&gt; and then a &lt;a class="link" href="https://blog.robsewell.com/blog/jupyter%20notebooks/azure%20data%20studio/powershell/dbatools/powershell-notebooks-in-azure-data-studio/" target="_blank" rel="noopener"
&gt;Python kernel that enabled PowerShell&lt;/a&gt;. It seems that notebooks are so cool that everyone is creating them these days! I was browsing twitter when I saw this tweet.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;.NET Notebooks Preview 2 is here! Preview 2 includes üéâ&lt;a class="link" href="https://twitter.com/PowerShell_Team?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;@PowerShell_Team&lt;/a&gt;, &lt;a class="link" href="https://twitter.com/nteractio?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;@nteractio&lt;/a&gt;, and a new tool. Check out our blog to learn more. Congratulations to &lt;a class="link" href="https://twitter.com/jonsequitur?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;@jonsequitur&lt;/a&gt; &lt;a class="link" href="https://twitter.com/colombod?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;@colombod&lt;/a&gt; and our entire team&lt;a class="link" href="https://t.co/WqNWQWR3Bo" target="_blank" rel="noopener"
&gt;https://t.co/WqNWQWR3Bo&lt;/a&gt;&lt;a class="link" href="https://twitter.com/dotnet?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;@dotnet&lt;/a&gt; &lt;a class="link" href="https://twitter.com/hashtag/jupyter?src=hash&amp;amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;#jupyter&lt;/a&gt; &lt;a class="link" href="https://twitter.com/hashtag/PowerShell?src=hash&amp;amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;#PowerShell&lt;/a&gt; &lt;a class="link" href="https://twitter.com/hashtag/interactiveprogramming?src=hash&amp;amp;ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;#interactiveprogramming&lt;/a&gt;.&lt;/p&gt;</description></item><item><title>How to fork a GitHub repository and contribute to an open source project</title><link>https://blog.robsewell.com/blog/how-to-fork-a-github-repository-and-contribute-to-an-open-source-project/</link><pubDate>Fri, 29 Nov 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/how-to-fork-a-github-repository-and-contribute-to-an-open-source-project/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2019/11/CreatePR.png" alt="Featured image of post How to fork a GitHub repository and contribute to an open source project" /&gt;&lt;p&gt;I enjoy maintaining open source GitHub repositories such as &lt;a class="link" href="https://github.com/sqlcollaborative/dbachecks" target="_blank" rel="noopener"
&gt;dbachecks&lt;/a&gt; and &lt;a class="link" href="https://github.com/sqlcollaborative/ADSNotebook" target="_blank" rel="noopener"
&gt;ADSNotebook&lt;/a&gt;. I absolutely love it when people add more functionality to them.&lt;/p&gt;
&lt;p&gt;To collaborate with a repository in GitHub you need to follow these steps&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2019/11/GitHub.png"
loading="lazy"
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fork the repository into your own GitHub&lt;/li&gt;
&lt;li&gt;Clone the repository to your local machine&lt;/li&gt;
&lt;li&gt;Create a new branch for your changes&lt;/li&gt;
&lt;li&gt;Make some changes and commit them with useful messages&lt;/li&gt;
&lt;li&gt;Push the changes to your repository&lt;/li&gt;
&lt;li&gt;Create a Pull Request from your repository back to the original one&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You will need to have &lt;code&gt;git.exe&lt;/code&gt; available which you can download and install from &lt;a class="link" href="https://git-scm.com/downloads" target="_blank" rel="noopener"
&gt;https://git-scm.com/downloads&lt;/a&gt; if required&lt;/p&gt;</description></item><item><title>Create a PowerShell Notebook for Azure Data Studio with PowerShell</title><link>https://blog.robsewell.com/blog/create-a-powershell-notebook-for-azure-data-studio-with-powershell/</link><pubDate>Thu, 14 Nov 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/create-a-powershell-notebook-for-azure-data-studio-with-powershell/</guid><description>&lt;p&gt;The latest update to the ADSNotebook PowerShell module &lt;a class="link" href="https://blog.robsewell.com/create-azure-data-studio-sql-notebooks-with-powershell/" target="_blank" rel="noopener"
&gt;I blogged about here&lt;/a&gt; now enables the creation of PowerShell notebooks with PowerShell.&lt;/p&gt;
&lt;p&gt;You can install the module with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Install-Module ADSNotebook
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or if you have already installed it you can use&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Update-Module ADSNotebook
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the latest release, there is an extra parameter for &lt;code&gt;New-AdsWorkBook&lt;/code&gt; of &lt;code&gt;-Type&lt;/code&gt; which will accept either SQL or PowerShell&lt;/p&gt;
&lt;h2 id="create-a-powershell-notebook-with-powershell-rob"&gt;Create a PowerShell Notebook with PowerShell Rob
&lt;/h2&gt;&lt;p&gt;OK!&lt;/p&gt;</description></item><item><title>PowerShell Notebooks in Azure Data Studio</title><link>https://blog.robsewell.com/blog/powershell-notebooks-in-azure-data-studio/</link><pubDate>Thu, 17 Oct 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/powershell-notebooks-in-azure-data-studio/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2019/10/image-8.png" alt="Featured image of post PowerShell Notebooks in Azure Data Studio" /&gt;&lt;p&gt;The latest release of the &lt;a class="link" href="https://github.com/microsoft/azuredatastudio#try-out-the-latest-insiders-build-from-master" target="_blank" rel="noopener"
&gt;insiders edition of Azure Data Studio&lt;/a&gt; brings the first edition of PowerShell Notebooks!&lt;/p&gt;
&lt;p&gt;You can download the latest insiders edition from the link above, it can be installed alongside the stable release.&lt;/p&gt;
&lt;p&gt;To access many of the commands available use F1 to open the command palette (like many of my tips this also works in Visual Studio Code). You can then start typing to get the command that you want.&lt;/p&gt;</description></item><item><title>Getting SQL Server installation date with PowerShell using dbatools</title><link>https://blog.robsewell.com/blog/getting-sql-server-installation-date-with-powershell-using-dbatools/</link><pubDate>Fri, 11 Oct 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/getting-sql-server-installation-date-with-powershell-using-dbatools/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2019/10/image-7.png" alt="Featured image of post Getting SQL Server installation date with PowerShell using dbatools" /&gt;&lt;p&gt;Most of my writing time at the moment is devoted to ¬†&lt;em&gt;&lt;a class="link" href="https://dbatools.io/book" target="_blank" rel="noopener"
&gt;Learn dbatools in a Month of Lunches&lt;/a&gt;&lt;/em&gt; which is now available but here is a short post following a question someone asked me.&lt;/p&gt;
&lt;h2 id="how-can-i-get-the-installation-date-for-sql-server-on-my-estate-into-a-database-with-dbatools-"&gt;How can I get the Installation Date for SQL Server on my estate into a database with dbatools ?
&lt;/h2&gt;&lt;p&gt;You can get the date that SQL Server was installed using the creation date of the NT Authority\System login using T-SQL&lt;/p&gt;</description></item><item><title>MEAP MEAP ‚Äì #dbatoolsMoL ‚Äì Live Book edition</title><link>https://blog.robsewell.com/blog/meap-meap-dbatoolsmol-live-book-edition/</link><pubDate>Wed, 04 Sep 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/meap-meap-dbatoolsmol-live-book-edition/</guid><description>&lt;p&gt;It‚Äôs been a busy time!&lt;/p&gt;
&lt;p&gt;As well as many other things, the fantastical &lt;a class="link" href="https://en.wikipedia.org/wiki/Benevolent_dictator_for_life" target="_blank" rel="noopener"
&gt;BDFL&lt;/a&gt; of &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; Chrissy Lemaire¬†&lt;a class="link" href="https://twitter.com/cl" target="_blank" rel="noopener"
&gt;@cl&lt;/a&gt; and myself have written enough of a chunk of¬†&lt;em&gt;&lt;a class="link" href="https://beard.media/bookblog" target="_blank" rel="noopener"
&gt;Learn dbatools in a Month of Lunches&lt;/a&gt;&lt;/em&gt; that our publisher¬†&lt;a class="link" href="https://beard.media/bookblog" target="_blank" rel="noopener"
&gt;Manning Publications&lt;/a&gt; have agreed to release it as a MEAP. Not a text book, this book is written in a fun conversational style and split up into chapters that you can read in a lunch-time.&lt;/p&gt;</description></item><item><title>PowerShell in SQL Notebooks in Azure Data Studio</title><link>https://blog.robsewell.com/blog/powershell-in-sql-notebooks-in-azure-data-studio/</link><pubDate>Wed, 17 Jul 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/powershell-in-sql-notebooks-in-azure-data-studio/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2019/07/image-4.png" alt="Featured image of post PowerShell in SQL Notebooks in Azure Data Studio" /&gt;&lt;p&gt;I have done a lot of writing in the last few months but you see no blog posts! My wonderful friend Chrissy and I are writing ‚Äúdbatools in a Month of Lunches‚Äù to be published by Manning. That has taken up a lot of my writing mojo. We have hit a little break whilst we have some reviews done ready for the &lt;a class="link" href="https://www.manning.com/meap-program" target="_blank" rel="noopener"
&gt;MEAP&lt;/a&gt; (For everyone who asks, the answer is the unfulfilling ‚Äòsoon‚Äô) so it‚Äôs time for a blog post!&lt;/p&gt;</description></item><item><title>Azure SQL Linux VM ‚Äì configuring SQL, installing pwsh and connecting and interacting with dbatools</title><link>https://blog.robsewell.com/blog/azure-sql-linux-vm-configuring-sql-installing-pwsh-and-connecting-and-interacting-with-dbatools/</link><pubDate>Thu, 25 Apr 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/azure-sql-linux-vm-configuring-sql-installing-pwsh-and-connecting-and-interacting-with-dbatools/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2019/04/image-125.png" alt="Featured image of post Azure SQL Linux VM ‚Äì configuring SQL, installing pwsh and connecting and interacting with dbatools" /&gt;&lt;p&gt;In my posts about using Azure Devops to build Azure resources with Terraform, &lt;a class="link" href="https://blog.robsewell.com/using-the-same-azure-devops-build-steps-for-terraform-with-different-pipelines-with-task-groups/" target="_blank" rel="noopener"
&gt;I built a Linux SQL VM.&lt;/a&gt; I used the &lt;a class="link" href="https://github.com/SQLDBAWithABeard/Presentations-AzureSQLVM" target="_blank" rel="noopener"
&gt;Terraform in this GitHub&lt;/a&gt; repository and created this&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2019/04/image-114.png"
loading="lazy"
&gt;&lt;/p&gt;
&lt;h2 id="connecting-with-mobaxterm"&gt;Connecting with MobaXterm
&lt;/h2&gt;&lt;p&gt;I had set the Network security rules to accept connections only from my static IP using variables in the Build Pipeline. I use &lt;a class="link" href="https://mobaxterm.mobatek.net/" target="_blank" rel="noopener"
&gt;MobaXterm&lt;/a&gt; as my SSH client. Its a free download. I click on sessions&lt;/p&gt;</description></item><item><title>Generating a Workload against AdventureWorks with PowerShell</title><link>https://blog.robsewell.com/blog/generating-a-workload-against-adventureworks-with-powershell/</link><pubDate>Tue, 02 Apr 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/generating-a-workload-against-adventureworks-with-powershell/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2019/04/image-51.png" alt="Featured image of post Generating a Workload against AdventureWorks with PowerShell" /&gt;&lt;p&gt;For a later blog post I have been trying to generate some workload against an AdventureWorks database.&lt;/p&gt;
&lt;p&gt;I found this excellent blog post by Pieter Vanhove &lt;a class="link" href="https://twitter.com/Pieter_Vanhove" target="_blank" rel="noopener"
&gt;t&lt;/a&gt; &lt;a class="link" href="https://blogs.technet.microsoft.com/msftpietervanhove/2016/01/08/generate-workload-on-your-azure-sql-database/?WT.mc_id=DP-MVP-5002693" target="_blank" rel="noopener"
&gt;https://blogs.technet.microsoft.com/msftpietervanhove/2016/01/08/generate-workload-on-your-azure-sql-database/&lt;/a&gt; which references this 2011 post by Jonathan Kehayias &lt;a class="link" href="https://twitter.com/SQLPoolBoy" target="_blank" rel="noopener"
&gt;t&lt;/a&gt;&lt;br&gt;
&lt;a class="link" href="https://www.sqlskills.com/blogs/jonathan/the-adventureworks2008r2-books-online-random-workload-generator/" target="_blank" rel="noopener"
&gt;https://www.sqlskills.com/blogs/jonathan/the-adventureworks2008r2-books-online-random-workload-generator/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Both of these run a random query in a single thread so I thought I would use &lt;a class="link" href="https://www.powershellgallery.com/packages/PoshRSJob/1.7.4.4" target="_blank" rel="noopener"
&gt;PoshRSJob&lt;/a&gt; by Boe Prox &lt;a class="link" href="https://learn-powershell.net/" target="_blank" rel="noopener"
&gt;b&lt;/a&gt; | &lt;a class="link" href="https://twitter.com/proxb" target="_blank" rel="noopener"
&gt;t&lt;/a&gt; to run multiple queries at the same time üôÇ&lt;/p&gt;</description></item><item><title>Whats a SQL Notebook in Azure Data Studio?</title><link>https://blog.robsewell.com/blog/whats-a-sql-notebook-in-azure-data-studio/</link><pubDate>Wed, 13 Mar 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/whats-a-sql-notebook-in-azure-data-studio/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2019/03/image-7.png" alt="Featured image of post Whats a SQL Notebook in Azure Data Studio?" /&gt;&lt;p&gt;&lt;a class="link" href="https://docs.microsoft.com/en-us/sql/azure-data-studio/download?view=sql-server-2017?WT.mc_id=DP-MVP-5002693" target="_blank" rel="noopener"
&gt;Azure Data Studio&lt;/a&gt; is a cross-platform database tool for data professionals using the Microsoft family of on-premises and cloud data platforms on Windows, MacOS, and Linux.&lt;/p&gt;
&lt;p&gt;Recently Vicky Harp tweeted&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We&amp;rsquo;re getting very close to release of SQL Notebooks in &lt;a class="link" href="https://twitter.com/AzureDataStudio?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;@AzureDataStudio&lt;/a&gt;! You can give the feature an early spin today with the insider build. &lt;a class="link" href="https://t.co/SEZp7ZdxCp" target="_blank" rel="noopener"
&gt;pic.twitter.com/SEZp7ZdxCp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;‚Äî Vicky Harp (@vickyharp) &lt;a class="link" href="https://twitter.com/vickyharp/status/1104127412944551936?ref_src=twsrc%5Etfw" target="_blank" rel="noopener"
&gt;March 8, 2019&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;By the way, you can watch a recording from SQLBits of Vicky‚Äôs session&lt;/p&gt;</description></item><item><title>Using Docker to run Integration Tests for dbachecks</title><link>https://blog.robsewell.com/blog/using-docker-to-run-integration-tests-for-dbachecks/</link><pubDate>Sat, 19 Jan 2019 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/using-docker-to-run-integration-tests-for-dbachecks/</guid><description>&lt;p&gt;My wonderful friend &lt;a class="link" href="https://twitter.com/AndreKamman" target="_blank" rel="noopener"
&gt;Andr√© Kamman&lt;/a&gt; wrote a fantastic blog post this week &lt;a class="link" href="https://andrekamman.com/sql-server-container-instances-via-cloudshell/" target="_blank" rel="noopener"
&gt;SQL Server Container Instances via Cloudshell&lt;/a&gt; about how he uses containers in Azure to test code against different versions of SQL Server.&lt;/p&gt;
&lt;p&gt;It reminded me that I do something very similar to test &lt;a class="link" href="http://dbachecks.io" target="_blank" rel="noopener"
&gt;dbachecks&lt;/a&gt; code changes. I thought this might make a good blog post. I will talk through how I do this locally as I merge a PR from another great friend &lt;a class="link" href="https://github.com/ClaudioESSilva" target="_blank" rel="noopener"
&gt;Cl√°udio Silva&lt;/a&gt; who has added &lt;a class="link" href="https://github.com/sqlcollaborative/dbachecks/pull/582" target="_blank" rel="noopener"
&gt;agent job history checks.&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Running Windows and Linux SQL Containers together</title><link>https://blog.robsewell.com/blog/running-windows-and-linux-sql-containers-together/</link><pubDate>Mon, 24 Dec 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/running-windows-and-linux-sql-containers-together/</guid><description>&lt;p&gt;Just for fun I decided to spend Christmas Eve getting Windows and Linux SQL containers running together.&lt;/p&gt;
&lt;h2 id="warning"&gt;WARNING
&lt;/h2&gt;&lt;p&gt;This is NOT a production ready solution, in fact I would not even recommend that you try it.&lt;br&gt;
I definitely wouldn‚Äôt recommend it on any machine with anything useful on it that you want to use again.&lt;br&gt;
We will be using a re-compiled dockerd.exe created by someone else and you know the rules about downloading things from the internet don‚Äôt you? and trusting unknown unverified people?&lt;/p&gt;</description></item><item><title>Getting SQL Services, Starting, Stopping and Restarting them with dbatools</title><link>https://blog.robsewell.com/blog/getting-sql-services-starting-stopping-and-restarting-them-with-dbatools/</link><pubDate>Mon, 03 Dec 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/getting-sql-services-starting-stopping-and-restarting-them-with-dbatools/</guid><description>&lt;p&gt;There was a question in the &lt;a class="link" href="https://sqlcommunity.slack.com/#dbatools" target="_blank" rel="noopener"
&gt;#dbatools slack channel¬†&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://blog.robsewell.com/assets/uploads/2018/12/dbatools-question.png" target="_blank" rel="noopener"
&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2018/12/dbatools-question.png"
loading="lazy"
alt="dbatools question"
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="getting-dbatools"&gt;Getting dbatools
&lt;/h3&gt;&lt;p&gt;dbatools enables you to administer SQL Server with PowerShell. To get it simply open PowerShell run&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Install-Module dbatools&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You can find more details on &lt;a class="link" href="http://dbatools.io/install" target="_blank" rel="noopener"
&gt;the web-site&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="finding-the-command"&gt;Finding the Command
&lt;/h3&gt;&lt;p&gt;To find a command you can use the dbatools command &lt;a class="link" href="https://docs.dbatools.io/#Find-DbaCommand" target="_blank" rel="noopener"
&gt;Find-DbaCommand&lt;/a&gt;
For commands for service run&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Find-DbaCommand Service&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;There are a whole bundle returned&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://blog.robsewell.com/assets/uploads/2018/12/find-services.png" target="_blank" rel="noopener"
&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2018/12/find-services.png"
loading="lazy"
alt="find services.png"
&gt;&lt;/a&gt;&lt;/p&gt;</description></item><item><title>SQL Server Availability Group FailoverDetection Utility PowerShell Function Improvements ‚Äì Named Instances, Archiving Data, Speed</title><link>https://blog.robsewell.com/blog/sql-server-availability-group-failoverdetection-utility-powershell-function-improvements-named-instances-archiving-data-speed/</link><pubDate>Sat, 01 Dec 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/sql-server-availability-group-failoverdetection-utility-powershell-function-improvements-named-instances-archiving-data-speed/</guid><description>&lt;p&gt;In &lt;a class="link" href="https://blog.robsewell.com/gathering-all-the-logs-and-running-the-availability-group-failover-detection-utility-with-powershell/" target="_blank" rel="noopener"
&gt;my last post I wrote about a new function&lt;/a&gt; for gathering the data and running the &lt;a class="link" href="https://blogs.msdn.microsoft.com/sql_server_team/failover-detection-utility-availability-group-failover-analysis-made-easy/" target="_blank" rel="noopener"
&gt;FailoverDetection utility&lt;/a&gt; by the &lt;a class="link" href="https://twitter.com/mssqltiger" target="_blank" rel="noopener"
&gt;Tiger Team&lt;/a&gt; to analyse availability group failovers. I have updated it following some comments and using it for a day.&lt;/p&gt;
&lt;h3 id="dont-forget-the-named-instances-rob"&gt;Don‚Äôt forget the named instances Rob!
&lt;/h3&gt;&lt;p&gt;Michael Karpenko wrote a comment pointing out that I had not supported named instances, which was correct as it had not been written for that. Thank you Michael üôÇ I have updated the code to deal with¬†named instances.&lt;/p&gt;</description></item><item><title>Gathering all the Logs and Running the Availability Group Failover Detection Utility with PowerShell</title><link>https://blog.robsewell.com/blog/gathering-all-the-logs-and-running-the-availability-group-failover-detection-utility-with-powershell/</link><pubDate>Wed, 28 Nov 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/gathering-all-the-logs-and-running-the-availability-group-failover-detection-utility-with-powershell/</guid><description>&lt;p&gt;30/11/2018 ‚Äì Function has been updated to deal with named instances.&lt;/p&gt;
&lt;p&gt;Last week the Tiger Team released their Availability Group Failover Detection Utility which will provide root cause analysis on Cluster Logs, SQL Error Logs, and the Availability groups extended events logs. There is a &lt;a class="link" href="https://blogs.msdn.microsoft.com/sql_server_team/failover-detection-utility-availability-group-failover-analysis-made-easy" target="_blank" rel="noopener"
&gt;blog post here&lt;/a&gt; and the tool can be downloaded from the &lt;a class="link" href="https://github.com/Microsoft/tigertoolbox/tree/master/Always-On/FailoverDetection" target="_blank" rel="noopener"
&gt;Tiger Team GitHub Repository&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="a-bit-of-faffing"&gt;A Bit of Faffing*
&lt;/h3&gt;&lt;p&gt;It states on the &lt;a class="link" href="https://github.com/Microsoft/tigertoolbox/blob/master/README.md" target="_blank" rel="noopener"
&gt;readme&lt;/a&gt; for the Tiger Team GitHub Repository.&lt;/p&gt;</description></item><item><title>Getting the SQL Version from a backup using dbatools ‚Ä¶‚Ä¶‚Ä¶. on PowerShell Core</title><link>https://blog.robsewell.com/blog/getting-the-sql-version-from-a-backup-using-dbatools-.-on-powershell-core/</link><pubDate>Mon, 26 Nov 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/getting-the-sql-version-from-a-backup-using-dbatools-.-on-powershell-core/</guid><description>&lt;p&gt;Following an upgrade to SQL Server the backup share had a number of backups, some from the old version and some from the newer version. I was asked if I had a script to be able to get the SQL Version from the backup file from all of the files in the backup share.&lt;/p&gt;
&lt;p&gt;With &lt;a class="link" href="http://dbatools,io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt;¬†this was easy to accomplish with &lt;a class="link" href="https://docs.dbatools.io/#Read-DbaBackupHeader" target="_blank" rel="noopener"
&gt;Read-DbaBackuoHeader&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$backupshare = &amp;#34;$share\\keep&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$Instance = &amp;#34;SQL0\\Mirror&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$information = foreach ($BackupFile in (Get-ChildItem $backupshare)) {
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; $FileName = @{Name = &amp;#39;FileName&amp;#39;; Expression = {$BackupFile.Name}}
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; Read-DbaBackupHeader -SqlInstance $Instance -Path $BackupFile.FullName | Select-Object $FileName, DatabaseName , CompatibilityLevel, SqlVersion
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$information | Format-Table
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2018/11/read-dbabackupheader.png"
loading="lazy"
alt="read-dbabackupheader.PNG"
&gt;&lt;/p&gt;</description></item><item><title>PASS Summit, SQLTrain and My First US SQL Saturday</title><link>https://blog.robsewell.com/blog/pass-summit-sqltrain-and-my-first-us-sql-saturday/</link><pubDate>Wed, 31 Oct 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/pass-summit-sqltrain-and-my-first-us-sql-saturday/</guid><description>&lt;p&gt;Next week is the week when I used to dread looking at Twitter and especially the &lt;a class="link" href="https://twitter.com/search?q=%23passsummit&amp;amp;src=typd" target="_blank" rel="noopener"
&gt;#PASSsummit&lt;/a&gt;¬†hashtag, watching all of those folk having a great time in great sessions and doing all of the networking. Last year I was lucky enough to attend for the first time and take part in &lt;a class="link" href="https://twitter.com/cl" target="_blank" rel="noopener"
&gt;Chrissy LeMaire&lt;/a&gt; and CKs pre-con, this year I decided to add a US SQL Saturday to the list.&lt;/p&gt;</description></item><item><title>PASS Summit, SQLTrain and My First US SQL Saturday</title><link>https://blog.robsewell.com/blog/pass-summit-sqltrain-and-my-first-us-sql-saturday/</link><pubDate>Wed, 31 Oct 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/pass-summit-sqltrain-and-my-first-us-sql-saturday/</guid><description>&lt;p&gt;Next week is the week when I used to dread looking at Twitter and especially the &lt;a class="link" href="https://twitter.com/search?q=%23passsummit&amp;amp;src=typd" target="_blank" rel="noopener"
&gt;#PASSsummit&lt;/a&gt;¬†hashtag, watching all of those folk having a great time in great sessions and doing all of the networking. Last year I was lucky enough to attend for the first time and take part in &lt;a class="link" href="https://twitter.com/cl" target="_blank" rel="noopener"
&gt;Chrissy LeMaire&lt;/a&gt; and CKs pre-con, this year I decided to add a US SQL Saturday to the list.&lt;/p&gt;</description></item><item><title>Checking Trace Flags with dbachecks, online docs and PSPowerHour</title><link>https://blog.robsewell.com/blog/checking-trace-flags-with-dbachecks-online-docs-and-pspowerhour/</link><pubDate>Sat, 29 Sep 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/checking-trace-flags-with-dbachecks-online-docs-and-pspowerhour/</guid><description>&lt;p&gt;It‚Äôs been a few weeks since i have blogged as I have been busy with a lot of other things. One of which is preparing for &lt;a class="link" href="https://www.pass.org/summit/2018/Sessions/Details.aspxsid=80306" target="_blank" rel="noopener"
&gt;my SQL Pass Summit pre-con&lt;/a&gt;¬†which has lead to me improving the CI/CD for &lt;a class="link" href="http://dbachecks.io" target="_blank" rel="noopener"
&gt;dbachecks&lt;/a&gt;¬†by adding auto-creation of online documentation, which you can find at¬†&lt;a class="link" href="https://dbachecks.readthedocs.io" target="_blank" rel="noopener"
&gt;https://dbachecks.readthedocs.io&lt;/a&gt;¬†or by running Get-Help with the -Online switch for any dbachecks command.&lt;/p&gt;
&lt;p&gt;Get-Help Invoke-DbcCheck -Online&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2018/09/01-online-help.png"
loading="lazy"
alt="01 - online help.png"
&gt;&lt;/p&gt;</description></item><item><title>A PowerShell Pester Check for parsing SQL scripts</title><link>https://blog.robsewell.com/blog/a-powershell-pester-check-for-parsing-sql-scripts/</link><pubDate>Wed, 25 Jul 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/a-powershell-pester-check-for-parsing-sql-scripts/</guid><description>&lt;p&gt;I like &lt;a class="link" href="https://blog.robsewell.com/?s=pester" target="_blank" rel="noopener"
&gt;to write Pester checks&lt;/a&gt; to make sure that all is as expected! This is just a quick post as much to help me remember this script üôÇ&lt;/p&gt;
&lt;p&gt;This is a quick Pester test I wrote to ensure that some SQL Scripts in a directory would parse so there was some guarantee that they were valid T-SQL. It uses the SQLParser.dll and because it was using a build server without SQL Server I have to load the required DLLs from the &lt;a class="link" href="http://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; module (Thank you dbatools üôÇ )&lt;/p&gt;</description></item><item><title>dbachecks ‚Äì Improved Descriptions</title><link>https://blog.robsewell.com/blog/dbachecks-improved-descriptions/</link><pubDate>Sat, 19 May 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/dbachecks-improved-descriptions/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2018/05/04-get-dbacheck-ogv.png" alt="Featured image of post dbachecks ‚Äì Improved Descriptions" /&gt;&lt;p&gt;With the latest release of &lt;a class="link" href="https://www.powershellgallery.com/packages/dbachecks/1.1.128" target="_blank" rel="noopener"
&gt;dbachecks&lt;/a&gt; we have added a new check for testing that foreign keys and constraints are trusted thanks to Cl√°udio Silva &lt;a class="link" href="https://claudioessilva.eu/" target="_blank" rel="noopener"
&gt;b&lt;/a&gt; | &lt;a class="link" href="https://twitter.com/ClaudioESSilva" target="_blank" rel="noopener"
&gt;t&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To get the latest release you will need to run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Update-Module dbachecks
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You should do this regularly as we release &lt;a class="link" href="https://blog.robsewell.com/version-update-code-signing-and-publishing-to-the-powershell-gallery-with-vsts/" &gt;new improvements frequently&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We have also added better descriptions for the checks which was suggested by the same person who inspired the previous improvement &lt;a class="link" href="https://blog.robsewell.com/dbachecks-which-configuration-item-for-which-check/" &gt;I blogged about here&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Creating SQL Server Containers for versions 2012-2017</title><link>https://blog.robsewell.com/blog/creating-sql-server-containers-for-versions-2012-2017/</link><pubDate>Thu, 10 May 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/creating-sql-server-containers-for-versions-2012-2017/</guid><description>&lt;p&gt;I am working on my &lt;a class="link" href="http://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; and &lt;a class="link" href="http://dbachecks.io" target="_blank" rel="noopener"
&gt;dbachecks&lt;/a&gt; presentations for &lt;a class="link" href="http://www.sqlsaturday.com/735/eventhome.aspx" target="_blank" rel="noopener"
&gt;SQL Saturday Finland&lt;/a&gt;, &lt;a class="link" href="https://sqlday.pl/" target="_blank" rel="noopener"
&gt;SQLDays&lt;/a&gt;, &lt;a class="link" href="http://www.sqlsaturday.com/742/EventHome.aspx" target="_blank" rel="noopener"
&gt;SQL Saturday Cork&lt;/a&gt; and &lt;a class="link" href="https://sqlgrillen.de/" target="_blank" rel="noopener"
&gt;SQLGrillen&lt;/a&gt;¬†I want to show the two modules running against a number of SQL Versions so I have installed&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2 Domain Controllers&lt;/li&gt;
&lt;li&gt;2 SQL 2017 instances on Windows 2016 with an Availability Group and WideWorldImporters database&lt;/li&gt;
&lt;li&gt;1 Windows 2016 jump box with all the programmes I need&lt;/li&gt;
&lt;li&gt;1 Windows 2016 with containers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;using a VSTS build and this set of &lt;a class="link" href="https://github.com/SQLDBAWithABeard/ARMTemplates/tree/master/DeployAlwaysOn" target="_blank" rel="noopener"
&gt;ARM templates and scripts&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Version Update, Code Signing and publishing to the PowerShell Gallery with VSTS</title><link>https://blog.robsewell.com/blog/version-update-code-signing-and-publishing-to-the-powershell-gallery-with-vsts/</link><pubDate>Tue, 01 May 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/version-update-code-signing-and-publishing-to-the-powershell-gallery-with-vsts/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2018/05/32-Dashboard.png" alt="Featured image of post Version Update, Code Signing and publishing to the PowerShell Gallery with VSTS" /&gt;&lt;p&gt;At the fabulous &lt;a class="link" href="http://psconf.eu" target="_blank" rel="noopener"
&gt;PowerShell Conference EU&lt;/a&gt; I presented about Continuous Delivery to the PowerShell Gallery with VSTS and explained how we use VSTS to enable CD for &lt;a class="link" href="http://dbachecks.io" target="_blank" rel="noopener"
&gt;dbachecks&lt;/a&gt;. We even released a new version during the session üôÇ&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;So how do we achieve this?&lt;/p&gt;
&lt;p&gt;We have a few steps&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a project and link to our GitHub&lt;/li&gt;
&lt;li&gt;Run unit uests with Pester to make sure that our code is doing what we expect.&lt;/li&gt;
&lt;li&gt;Update our module version and commit the change to GitHub&lt;/li&gt;
&lt;li&gt;Sign our code with a code signing certificate&lt;/li&gt;
&lt;li&gt;Publish to the PowerShell Gallery&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="create-project-and-link-to-github"&gt;Create Project and link to GitHub
&lt;/h2&gt;&lt;p&gt;First you need to create a VSTS project by going to¬†&lt;a class="link" href="https://www.visualstudio.com/" target="_blank" rel="noopener"
&gt;https://www.visualstudio.com/&lt;/a&gt; This is free for up to 5 users with 1 concurrent CI/CD queue limited to a maximum of 60 minutes run time which should be more than enough for your PowerShell module.&lt;/p&gt;</description></item><item><title>Checking Availability Groups with dbachecks</title><link>https://blog.robsewell.com/blog/checking-availability-groups-with-dbachecks/</link><pubDate>Sun, 08 Apr 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/checking-availability-groups-with-dbachecks/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2018/04/VSTS-results.png" alt="Featured image of post Checking Availability Groups with dbachecks" /&gt;&lt;p&gt;It‚Äôs been 45 days since we released dbachecks&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Since then there have been 25 releases to the PowerShell Gallery!! Today release 1.1.119 was released üôÇ There have been over 2000 downloads of the module already.&lt;/p&gt;
&lt;p&gt;In the beginning we had 80 checks and 108 configuration items, today we have 84 checks and 125 configuration items!&lt;/p&gt;
&lt;p&gt;If you have already installed dbachecks it is important to make sure that you update regularly. You can do this by running&lt;/p&gt;</description></item><item><title>Easily Splatting PowerShell with VS Code</title><link>https://blog.robsewell.com/blog/easily-splatting-powershell-with-vs-code/</link><pubDate>Sun, 11 Mar 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/easily-splatting-powershell-with-vs-code/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2022/dbachecks.jpg" alt="Featured image of post Easily Splatting PowerShell with VS Code" /&gt;&lt;p&gt;So I always like to show splatting PowerShell commands when I am presenting sessions or workshops and realised that I had not really blogged about it. (This blog is for &lt;a class="link" href="https://twitter.com/dbafromthecold" target="_blank" rel="noopener"
&gt;@dbafromthecold&lt;/a&gt; who asked me to üôÇ )&lt;/p&gt;
&lt;h2 id="what-is-splatting"&gt;What is Splatting?
&lt;/h2&gt;&lt;p&gt;Well you will know that when you call a PowerShell function you can use intellisense to get the parameters and sometimes the parameter values as well. This can leave you with a command that looks like this on the screen&lt;/p&gt;</description></item><item><title>Announcing dbachecks ‚Äì Configurable PowerShell Validation For Your SQL Instances</title><link>https://blog.robsewell.com/blog/announcing-dbachecks-configurable-powershell-validation-for-your-sql-instances/</link><pubDate>Thu, 22 Feb 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/announcing-dbachecks-configurable-powershell-validation-for-your-sql-instances/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2018/02/09-PowerBi.png" alt="Featured image of post Announcing dbachecks ‚Äì Configurable PowerShell Validation For Your SQL Instances" /&gt;&lt;p&gt;For the last couple of months members of the &lt;a class="link" href="http://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt;¬†team have been working on a new PowerShell module called &lt;a class="link" href="http://dbachecks.io" target="_blank" rel="noopener"
&gt;dbachecks&lt;/a&gt;. This open source PowerShell module will enable you to validate your SQL Instances. Today it is released for you all to start to use üôÇ&lt;/p&gt;
&lt;h2 id="validate-your-sql-instances"&gt;Validate Your SQL Instances?
&lt;/h2&gt;&lt;p&gt;What do I mean by validate your SQL Instances? You want to know if your SQL Instances are (still) set up in the way that you want them to be or that you have not missed any configurations when setting them up. With dbachecks you can use any or all of the 80 checks to ensure one or many SQL Instances are as you want them to be. Using Pester, dbachecks will validate your SQL Instance(s) against default settings or ones that you configure yourself.&lt;/p&gt;</description></item><item><title>dbachecks ‚Äì Configuration Deep Dive</title><link>https://blog.robsewell.com/blog/dbachecks-configuration-deep-dive/</link><pubDate>Thu, 22 Feb 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/dbachecks-configuration-deep-dive/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2018/02/03-autocomplete.png" alt="Featured image of post dbachecks ‚Äì Configuration Deep Dive" /&gt;&lt;p&gt;Today is the day that &lt;a class="link" href="https://blog.robsewell.com/?p=8997" &gt;we have announced dbachecks&lt;/a&gt;¬† a PowerShell module enabling you to validate your SQL Instances. You can read more about it &lt;a class="link" href="https://blog.robsewell.com/?p=8997" &gt;here where you can learn how to install it and see some simple use cases&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="108-configurations"&gt;108 Configurations
&lt;/h2&gt;&lt;p&gt;One of the things I have been talking about &lt;a class="link" href="https://blog.robsewell.com/write-your-first-pester-test-today/" &gt;in my presentation ‚ÄúGreen is Good Red is Bad‚Äù&lt;/a&gt; is configuring Pester checks so that you do not have to keep writing new tests for the same thing but with different values.&lt;/p&gt;</description></item><item><title>Using the AST in Pester for dbachecks</title><link>https://blog.robsewell.com/blog/using-the-ast-in-pester-for-dbachecks/</link><pubDate>Mon, 15 Jan 2018 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/using-the-ast-in-pester-for-dbachecks/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2018/01/02-Pester-results-1.png" alt="Featured image of post Using the AST in Pester for dbachecks" /&gt;&lt;p&gt;TagLine ‚Äì My goal ‚Äì Chrissy will appreciate Unit Tests one day üôÇ&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://dbatools.io/new-module-coming-soon/" target="_blank" rel="noopener"
&gt;Chrissy has written about dbachecks&lt;/a&gt; the new up and coming community driven open source PowerShell module for SQL DBAs to validate their SQL Server estate. we have taken some of the ideas that we have presented about a way of using &lt;a class="link" href="http://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; with &lt;a class="link" href="https://github.com/Pester/Pester" target="_blank" rel="noopener"
&gt;Pester&lt;/a&gt; to validate that everything is how it should be and placed them into a meta data driven framework to make things easy for anyone to use. It is looking really good and I am really excited about it. It will be released very soon.&lt;/p&gt;</description></item><item><title>Converting a Datarow to a JSON object with PowerShell</title><link>https://blog.robsewell.com/blog/converting-a-datarow-to-a-json-object-with-powershell/</link><pubDate>Mon, 18 Dec 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/converting-a-datarow-to-a-json-object-with-powershell/</guid><description>&lt;p&gt;This is just a quick post. As is frequent with these they are as much for me to refer to in the future and also because the very act of writing it down will aid me in remembering. I encourage you to do the same. Share what you learn because it will help you as well as helping others.&lt;/p&gt;
&lt;p&gt;Anyway, I was writing some Pester tests for a module that I was writing when I needed some sample data. I have &lt;a class="link" href="https://blog.robsewell.com/writing-dynamic-and-random-tests-cases-for-pester/" target="_blank" rel="noopener"
&gt;written before about using Json for this purpose&lt;/a&gt;¬†This function required some data from a database so I wrote the query to get the data and used &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt;¬†to run the query against the database using &lt;a class="link" href="https://dbatools.io/functions/Get-DbaDatabase" target="_blank" rel="noopener"
&gt;Get-DbaDatabase&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Handling Missing Instances when Looping with Pester</title><link>https://blog.robsewell.com/blog/handling-missing-instances-when-looping-with-pester/</link><pubDate>Thu, 30 Nov 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/handling-missing-instances-when-looping-with-pester/</guid><description>&lt;p&gt;In my previous posts about &lt;a class="link" href="https://blog.robsewell.com/write-your-first-pester-test-today/" target="_blank" rel="noopener"
&gt;writing your first Pester Test&lt;/a&gt; and &lt;a class="link" href="https://blog.robsewell.com/2-ways-to-loop-through-collections-in-pester/" target="_blank" rel="noopener"
&gt;looping through instances&lt;/a&gt; I described how you can start to validate that your SQL Server is how YOU want it to be.&lt;/p&gt;
&lt;h2 id="unavailable-machines"&gt;Unavailable machines
&lt;/h2&gt;&lt;p&gt;Once you begin to have a number of tests for a number of instances you want to be able to handle any machines that are not available cleanly otherwise you might end up with something like this.&lt;/p&gt;</description></item><item><title>2 Ways to Loop through collections in Pester</title><link>https://blog.robsewell.com/blog/2-ways-to-loop-through-collections-in-pester/</link><pubDate>Tue, 28 Nov 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/2-ways-to-loop-through-collections-in-pester/</guid><description>&lt;p&gt;In my last post I showed you &lt;a class="link" href="https://blog.robsewell.com/write-your-first-pester-test-today/" target="_blank" rel="noopener"
&gt;how to write your first Pester test&lt;/a&gt; to validate something. Here‚Äôs a recap&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Decide the information you wish to test&lt;/li&gt;
&lt;li&gt;Understand how to get it with PowerShell&lt;/li&gt;
&lt;li&gt;Understand what makes it pass and what makes it fail&lt;/li&gt;
&lt;li&gt;Write a Pester Test&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You probably have more than one instance that you want to test, so how do you loop through a collection of instances? There are a couple of ways.&lt;/p&gt;</description></item><item><title>2 Ways to Loop through collections in Pester</title><link>https://blog.robsewell.com/blog/2-ways-to-loop-through-collections-in-pester/</link><pubDate>Tue, 28 Nov 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/2-ways-to-loop-through-collections-in-pester/</guid><description>&lt;p&gt;In my last post I showed you &lt;a class="link" href="https://blog.robsewell.com/write-your-first-pester-test-today/" target="_blank" rel="noopener"
&gt;how to write your first Pester test&lt;/a&gt; to validate something. Here‚Äôs a recap&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Decide the information you wish to test&lt;/li&gt;
&lt;li&gt;Understand how to get it with PowerShell&lt;/li&gt;
&lt;li&gt;Understand what makes it pass and what makes it fail&lt;/li&gt;
&lt;li&gt;Write a Pester Test&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You probably have more than one instance that you want to test, so how do you loop through a collection of instances? There are a couple of ways.&lt;/p&gt;</description></item><item><title>Write Your first Pester Test Today</title><link>https://blog.robsewell.com/blog/write-your-first-pester-test-today/</link><pubDate>Thu, 16 Nov 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/write-your-first-pester-test-today/</guid><description>&lt;p&gt;I was in Glasgow this Friday enjoying the fantastic hospitality of the &lt;a class="link" href="http://sqlglasgow.co.uk" target="_blank" rel="noopener"
&gt;Glasgow SQL User Group&lt;/a&gt; &lt;a class="link" href="https://twitter.com/SqlGlasgow" target="_blank" rel="noopener"
&gt;@SQLGlasgow&lt;/a&gt; and presenting sessions with &lt;a class="link" href="https://twitter.com/AndreKamman" target="_blank" rel="noopener"
&gt;Andre Kamman&lt;/a&gt;, &lt;a class="link" href="https://twitter.com/sql_williamd" target="_blank" rel="noopener"
&gt;William Durkin&lt;/a&gt;, and &lt;a class="link" href="https://twitter.com/cl" target="_blank" rel="noopener"
&gt;Chrissy LeMaire&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I presented ‚ÄúGreen is Good Red is Bad ‚Äì Turning your checklists into Pester Tests‚Äù. I had to make sure I had enough energy beforehand so I treated myself to a fabulous burger.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2017/11/20171110_114933-compressor.jpg?resize=630%2C354&amp;amp;ssl=1"
loading="lazy"
alt="20171110_114933-compressor.jpg"
&gt;&lt;/p&gt;
&lt;p&gt;Afterwards I was talking to some of the attendees and realised that maybe I could show how easy it was to start writing your first Pester test. Here are the steps to follow so that you can write your first Pester test:&lt;/p&gt;</description></item><item><title>dbatools with SQL on Docker and running SQL queries</title><link>https://blog.robsewell.com/blog/dbatools-with-sql-on-docker-and-running-sql-queries/</link><pubDate>Tue, 07 Nov 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/dbatools-with-sql-on-docker-and-running-sql-queries/</guid><description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;$srv.Query($Query)&lt;/p&gt;
&lt;p&gt;$srv.Query($Query).column1&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;</description></item><item><title>A Pretty PowerBi Pester Results Template File</title><link>https://blog.robsewell.com/blog/power-bi/powershell/a-pretty-powerbi-pester-results-template-file/</link><pubDate>Sun, 29 Oct 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/power-bi/powershell/a-pretty-powerbi-pester-results-template-file/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>#TSQL2sDay ‚Äì Get-PostRoundup</title><link>https://blog.robsewell.com/blog/tsql2sday-get-postroundup/</link><pubDate>Wed, 20 Sep 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/tsql2sday-get-postroundup/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>#TSQL2sDay ‚Äì Starting Out with PowerShell</title><link>https://blog.robsewell.com/blog/tsql2sday-starting-out-with-powershell/</link><pubDate>Tue, 12 Sep 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/tsql2sday-starting-out-with-powershell/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>#TSQL2sday #94 Lets get all Posh!</title><link>https://blog.robsewell.com/blog/tsql2sday-94-lets-get-all-posh/</link><pubDate>Tue, 05 Sep 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/tsql2sday-94-lets-get-all-posh/</guid><description>&lt;p&gt;Write-Output &amp;ldquo;What are you going to automate today?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;¬†&lt;/p&gt;
&lt;p&gt;Welcome to T-SQL Tuesday for September 2017!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2017/08/tsql2sday.jpg"
loading="lazy"
alt="tsql2sday"
&gt;
&lt;a class="link" href="http://tsqltuesday.com/" target="_blank" rel="noopener"
&gt;T-SQL Tuesday&lt;/a&gt; is a chance for you to join in the SQL Server community and write a blog post on a suggested topic. It makes for a great way to find a bunch of blog posts showing the same subject from many different viewpoints. Please join in and write a blog post, maybe it&amp;rsquo;s your first ever, maybe you haven&amp;rsquo;t blogged for a while but even if you blog every day come and join the party and share your knowledge.&lt;/p&gt;</description></item><item><title>Using Get-SQLDiagFix to get information from the SQL Server Diagnostic API with PowerShell</title><link>https://blog.robsewell.com/blog/using-get-sqldiagfix-to-get-information-from-the-sql-server-diagnostic-api-with-powershell/</link><pubDate>Tue, 04 Jul 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/using-get-sqldiagfix-to-get-information-from-the-sql-server-diagnostic-api-with-powershell/</guid><description>&lt;p&gt;The SQL Server Diagnostics Preview was &lt;a class="link" href="https://blogs.msdn.microsoft.com/sql_server_team/sql-server-diagnostics-preview/" target="_blank" rel="noopener"
&gt;announced just over a week ago&lt;/a&gt; It includes an add-on for SQL Server Management Studio to enable you to analyse SQL Server memory dumps and view information on the latest SQL Server cumulative updates for supported versions of SQL Server. &lt;a class="link" href="https://twitter.com/blobeater1" target="_blank" rel="noopener"
&gt;Arun Sirpal&lt;/a&gt; has written a &lt;a class="link" href="https://blobeater.blog/2017/06/27/using-sql-server-diagnostics-preview/" target="_blank" rel="noopener"
&gt;good blog post showing how to install it and use it in SSMS to analyse dumps&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There is also a &lt;a class="link" href="https://ecsapi.portal.azure-api.net/" target="_blank" rel="noopener"
&gt;developer API available&lt;/a&gt; so I thought I would write some PowerShell to consume it as there are no PowerShell code examples available in the documentation!&lt;/p&gt;</description></item><item><title>Creating a PowerShell Module and TDD for Get-SQLDiagRecommendations</title><link>https://blog.robsewell.com/blog/creating-a-powershell-module-and-tdd-for-get-sqldiagrecommendations/</link><pubDate>Fri, 30 Jun 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/creating-a-powershell-module-and-tdd-for-get-sqldiagrecommendations/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>VSCode ‚Äì PowerShell extension 1.4.0 new command Out-CurrentFile</title><link>https://blog.robsewell.com/blog/vscode-powershell-extension-1.4.0-new-command-out-currentfile/</link><pubDate>Thu, 22 Jun 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/vscode-powershell-extension-1.4.0-new-command-out-currentfile/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>dbatools at #SQLSatDublin</title><link>https://blog.robsewell.com/blog/dbatools-at-%23sqlsatdublin/</link><pubDate>Wed, 21 Jun 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/dbatools-at-%23sqlsatdublin/</guid><description>&lt;p&gt;This weekend¬†&lt;a class="link" href="http://www.sqlsaturday.com/620/EventHome.aspx" target="_blank" rel="noopener"
&gt;SQL Saturday Dublin&lt;/a&gt; occurred. For those that don‚Äôt know &lt;a class="link" href="http://www.sqlsaturday.com/" target="_blank" rel="noopener"
&gt;SQL Saturdays&lt;/a&gt; are free conferences with local and international speakers providing great sessions in the Data Platform sphere.&lt;/p&gt;
&lt;p&gt;Chrissy LeMaire and I presented our session PowerShell SQL Server: Modern Database Administration with &lt;a class="link" href="https://dbatools.io/" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt;. You can find &lt;a class="link" href="https://github.com/sqlcollaborative/community-presentations/tree/master/rob-sewell-chrissy-lemaire" target="_blank" rel="noopener"
&gt;slides and code here&lt;/a&gt; . We were absolutely delighted to be named Best Speaker which was decided from the attendees average evaluation.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Wow, &lt;a class="link" href="https://twitter.com/cl" target="_blank" rel="noopener"
&gt;@cl&lt;/a&gt; and i won the coveted best speaker award at &lt;a class="link" href="https://twitter.com/hashtag/SqlSatDublin?src=hash" target="_blank" rel="noopener"
&gt;#SqlSatDublin&lt;/a&gt; Thank you so much. We are so pleased &lt;a class="link" href="https://t.co/f0MPTJf74p" target="_blank" rel="noopener"
&gt;pic.twitter.com/f0MPTJf74p&lt;/a&gt;&lt;/p&gt;</description></item><item><title>VS Code ‚Äì Automatic Dynamic PowerShell Help</title><link>https://blog.robsewell.com/blog/vs-code-automatic-dynamic-powershell-help/</link><pubDate>Mon, 12 Jun 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/vs-code-automatic-dynamic-powershell-help/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>PowerShell Function ‚Äì Validating a Parameter Depending On A Previous Parameter‚Äôs Value</title><link>https://blog.robsewell.com/blog/powershell-function-validating-a-parameter-depending-on-a-previous-parameters-value/</link><pubDate>Wed, 26 Apr 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/powershell-function-validating-a-parameter-depending-on-a-previous-parameters-value/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2017/04/01-more-help.png" alt="Featured image of post PowerShell Function ‚Äì Validating a Parameter Depending On A Previous Parameter‚Äôs Value" /&gt;&lt;p&gt;I was chatting on the &lt;a class="link" href="https://sqlps.io/slack" target="_blank" rel="noopener"
&gt;SQL Community Slack&lt;/a&gt;¬†with my friend Sander Stad &lt;a class="link" href="http://www.sqlstad.nl/" target="_blank" rel="noopener"
&gt;b&lt;/a&gt; | &lt;a class="link" href="https://twitter.com/sqlstad" target="_blank" rel="noopener"
&gt;t&lt;/a&gt;¬†about some functions he is writing for the amazing PowerShell SQL Server Community module &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt;. He was asking my opinion as to how to enable user choice or options for Agent Schedules and I said that he should validate the input of the parameters. He said that was difficult as if the parameter was Weekly the frequency values required would be different from if the parameter was Daily or Monthly. That‚Äôs ok, I said, you can still validate the parameter.&lt;/p&gt;</description></item><item><title>Export SQL User Permissions to T-SQL script using PowerShell and dbatools</title><link>https://blog.robsewell.com/blog/export-sql-user-permissions-to-t-sql-script-using-powershell-and-dbatools/</link><pubDate>Mon, 10 Apr 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/export-sql-user-permissions-to-t-sql-script-using-powershell-and-dbatools/</guid><description>&lt;p&gt;NOTE - Updated November 2022 for this site and the correct command name.&lt;/p&gt;
&lt;p&gt;There are times when DBA‚Äôs are required to export database user permissions to a file. This may be for a number of reasons. Maybe for DR purposes, for auditing, for transfer to another database or instance. Sometimes we need to create a new user with the same permissions as another user or perhaps nearly the same permissions. I was having a conversation with my good friend and &lt;a class="link" href="https://twitter.com/claudioessilva" target="_blank" rel="noopener"
&gt;MVP Cl√°udio Silva&lt;/a&gt;¬†and we were talking about how &lt;a class="link" href="https://docs.dbatools.io/Export-DbaUser" target="_blank" rel="noopener"
&gt;Export-DbaUser&lt;/a&gt; from &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; could help in these situations and he suggested that I blogged about it so here it is.&lt;/p&gt;</description></item><item><title>Testing the Identity Column usage in SQL Server with PowerShell and dbatools</title><link>https://blog.robsewell.com/blog/testing-the-identity-column-usage-in-sql-server-with-powershell-and-dbatools/</link><pubDate>Fri, 07 Apr 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/testing-the-identity-column-usage-in-sql-server-with-powershell-and-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Using Pester with Get-DbaLastGoodCheckDb from dbatools</title><link>https://blog.robsewell.com/blog/using-pester-with-get-dbalastgoodcheckdb-from-dbatools/</link><pubDate>Thu, 06 Apr 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/using-pester-with-get-dbalastgoodcheckdb-from-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Getting SQLServers Last Known Good DBCC Checkdb with PowerShell and dbatools</title><link>https://blog.robsewell.com/blog/getting-sqlservers-last-known-good-dbcc-checkdb-with-powershell-and-dbatools/</link><pubDate>Wed, 05 Apr 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/getting-sqlservers-last-known-good-dbcc-checkdb-with-powershell-and-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Test the SQL Server database collation with PowerShell and dbatools</title><link>https://blog.robsewell.com/blog/test-the-sql-server-database-collation-with-powershell-and-dbatools/</link><pubDate>Mon, 03 Apr 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/test-the-sql-server-database-collation-with-powershell-and-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Getting SQL Server File Sizes and Space Used with dbatools</title><link>https://blog.robsewell.com/blog/getting-sql-server-file-sizes-and-space-used-with-dbatools/</link><pubDate>Wed, 29 Mar 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/getting-sql-server-file-sizes-and-space-used-with-dbatools/</guid><description>&lt;p&gt;I read a great blog post about answering the question &lt;a class="link" href="https://sqlbuffet.wordpress.com/2017/03/08/how-big-is-the-database-how-to-answer-that-annoying-question/" target="_blank" rel="noopener"
&gt;how big is the database using T-SQL on SQL Buffet&lt;/a&gt; and wondered how much I could do with the &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools module&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The dbatools module (for those that don‚Äôt know) is a PowerShell module written by amazing folks in the community designed to make administrating your SQL Server significantly easier using PowerShell. The instructions for installing it are &lt;a class="link" href="https://dbatools.io/getting-started/" target="_blank" rel="noopener"
&gt;available here&lt;/a&gt; It comprises of 182 separate commands at present (11 March 2017 Version 0.8.938)&lt;/p&gt;</description></item><item><title>Test your Sqlserver backups on Linux with PowerShell and dbatools</title><link>https://blog.robsewell.com/blog/test-your-sqlserver-backups-on-linux-with-powershell-and-dbatools/</link><pubDate>Mon, 27 Mar 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/test-your-sqlserver-backups-on-linux-with-powershell-and-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Using Pester with dbatools Test-DbaLastBackup</title><link>https://blog.robsewell.com/blog/using-pester-with-dbatools-test-dbalastbackup/</link><pubDate>Sat, 25 Mar 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/using-pester-with-dbatools-test-dbalastbackup/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Taking dbatools Test-DbaLastBackup a little further</title><link>https://blog.robsewell.com/blog/taking-dbatools-test-dbalastbackup-a-little-further/</link><pubDate>Wed, 22 Mar 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/taking-dbatools-test-dbalastbackup-a-little-further/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Testing Your SQL Server Backups the Easy Way with PowerShell &amp; dbatools</title><link>https://blog.robsewell.com/blog/testing-your-sql-server-backups-the-easy-way-with-powershell-dbatools/</link><pubDate>Mon, 20 Mar 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/testing-your-sql-server-backups-the-easy-way-with-powershell-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Restoring an entire SQL Server user databases with PowerShell using dbatools</title><link>https://blog.robsewell.com/blog/restoring-an-entire-sql-server-user-databases-with-powershell-using-dbatools/</link><pubDate>Sat, 18 Mar 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/restoring-an-entire-sql-server-user-databases-with-powershell-using-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Quickly Creating Test Users in SQL Server with PowerShell using the sqlserver module and dbatools</title><link>https://blog.robsewell.com/blog/quickly-creating-test-users-in-sql-server-with-powershell-using-the-sqlserver-module-and-dbatools/</link><pubDate>Mon, 06 Mar 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/quickly-creating-test-users-in-sql-server-with-powershell-using-the-sqlserver-module-and-dbatools/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2017/02/remove-them-all.png" alt="Featured image of post Quickly Creating Test Users in SQL Server with PowerShell using the sqlserver module and dbatools" /&gt;&lt;p&gt;One of the most visited posts on my blog is nearly two and half years old now ‚Äì &lt;!-- raw HTML omitted --&gt;Add User to SQL Server Database Role with PowerShell and Quickly Creating Test Users&lt;!-- raw HTML omitted --&gt;.¬†I thought it was time to update it and use the &lt;!-- raw HTML omitted --&gt;latest sqlserver module&lt;!-- raw HTML omitted --&gt; and the &lt;!-- raw HTML omitted --&gt;dbatools module&lt;!-- raw HTML omitted --&gt;.&lt;/p&gt;</description></item><item><title>SQL VNext sp_configure on Windows and Linux with dbatools</title><link>https://blog.robsewell.com/blog/sql-vnext-sp_configure-on-windows-and-linux-with-dbatools/</link><pubDate>Mon, 27 Feb 2017 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/sql-vnext-sp_configure-on-windows-and-linux-with-dbatools/</guid><description>&lt;!-- raw HTML omitted --&gt;</description></item><item><title>Enabling Cortana for dbareports PowerBi</title><link>https://blog.robsewell.com/blog/enabling-cortana-for-dbareports-powerbi/</link><pubDate>Sun, 13 Nov 2016 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/enabling-cortana-for-dbareports-powerbi/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2016/11/cortana-search-2.png" alt="Featured image of post Enabling Cortana for dbareports PowerBi" /&gt;&lt;p&gt;Last week at the Birmingham user group I gave a presentation about PowerShell and SQL Server&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://blog.robsewell.com/assets/uploads/2016/11/saved-image-from-tweetium-8.jpg" &gt;&lt;img src="https://blog.robsewell.com/assets/uploads/2016/11/saved-image-from-tweetium-8.jpg"
loading="lazy"
alt="saved-image-from-tweetium-8"
&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It was a very packed session as I crammed in the &lt;a class="link" href="https://blogs.technet.microsoft.com/dataplatforminsider/2016/06/30/sql-powershell-july-2016-update/" target="_blank" rel="noopener"
&gt;new sqlserver module&lt;/a&gt;, &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; and &lt;a class="link" href="https://dbareports.io" target="_blank" rel="noopener"
&gt;dbareports&lt;/a&gt; üôÇ On reflection I think this is a bit too much for a one hour session but at the end of the session I demo‚Äôd live Cortana using the dbareports dataset and returning a Cortana PowerBi page.&lt;/p&gt;</description></item><item><title>The SQL Server Community Collaborative GitHub Organisation is born</title><link>https://blog.robsewell.com/blog/the-sql-server-community-collaborative-github-organisation-is-born/</link><pubDate>Wed, 14 Sep 2016 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/the-sql-server-community-collaborative-github-organisation-is-born/</guid><description>&lt;img src="https://blog.robsewell.com/assets/uploads/2016/09/wp_20160910_10_14_58_pro.jpg" alt="Featured image of post The SQL Server Community Collaborative GitHub Organisation is born" /&gt;&lt;p&gt;My wonderful friend &lt;a class="link" href="https://twitter.com/cl" target="_blank" rel="noopener"
&gt;Chrissy LeMaire&lt;/a&gt; and I are the creators of two GitHub repositories for SQL Server and PowerShell called &lt;a class="link" href="https://dbatools.io/" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; and &lt;a class="link" href="https://dbareports.io" target="_blank" rel="noopener"
&gt;dbareports&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you are working with SQL Server I highly recommend that you take a look at the vast number of commands available to you at &lt;a class="link" href="https://dbatools.io/" target="_blank" rel="noopener"
&gt;dbatools&lt;/a&gt; which will help you complete tasks within SQL Server especially for Instance migrations and also a growing number of best practice implementations&lt;/p&gt;</description></item><item><title>Remove-SQLDatabaseSafely My First Contribution to DBATools</title><link>https://blog.robsewell.com/blog/remove-sqldatabasesafely-my-first-contribution-to-dbatools/</link><pubDate>Wed, 20 Jul 2016 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/remove-sqldatabasesafely-my-first-contribution-to-dbatools/</guid><description>&lt;p&gt;What is DBA Tools?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A collection of modules for SQL Server DBAs. It initially started out as ‚Äòsqlmigration‚Äô, but has now grown into a collection of various commands that help automate DBA tasks and encourage best practices.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can read more about &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;here&lt;/a&gt;¬†and it is &lt;a class="link" href="https://github.com/ctrlbold/dbatools" target="_blank" rel="noopener"
&gt;freely available for download on GitHub&lt;/a&gt;¬†I thoroughly recommend that [you watch this quick video]&lt;/p&gt;
&lt;div class="video-wrapper"&gt;
&lt;iframe loading="lazy"
src="https://www.youtube.com/embed/PciYdDEBiDM"
allowfullscreen
title="YouTube Video"
&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;to see just how easy it is to migrate an entire SQL instance in one command Longer session here&lt;/p&gt;</description></item><item><title>Refreshing A SQL Mirrored Database Using Powershell</title><link>https://blog.robsewell.com/blog/refreshing-a-sql-mirrored-database-using-powershell/</link><pubDate>Mon, 25 Aug 2014 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/refreshing-a-sql-mirrored-database-using-powershell/</guid><description>&lt;p&gt;SQL mirroring is a means of providing high availability for your SQL database. It is available in Standard Edition and although the feature is deprecated it is still widely utilised. &lt;a class="link" href="http://msdn.microsoft.com/en-gb/library/ms189852.aspx?WT.mc_id=DP-MVP-5002693" target="_blank" rel="noopener"
&gt;You can read more about it on MSDN here&lt;/a&gt; and &lt;a class="link" href="http://www.brentozar.com/archive/2013/07/database-mirroring-faq/" target="_blank" rel="noopener"
&gt;Jes Borland wrote a useful post answering many questions here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There are situations where you may need to refresh these databases. Disaster Recovery is an obvious one but also during development to provide testing or development environments to test your High Availability implementations, run through disaster scenarios, create run books or ensure that the code changes still work with mirroring. There are other scenarios but this post covers the automation of restoring a mirrored database from a backup.&lt;/p&gt;</description></item><item><title>Add User to SQL Server Database Role with PowerShell and Quickly Creating Test Users</title><link>https://blog.robsewell.com/blog/add-user-to-sql-server-database-role-with-powershell-and-quickly-creating-test-users/</link><pubDate>Mon, 23 Sep 2013 00:00:00 +0000</pubDate><guid>https://blog.robsewell.com/blog/add-user-to-sql-server-database-role-with-powershell-and-quickly-creating-test-users/</guid><description>&lt;p&gt;There is a newer &lt;a class="link" href="https://blog.robsewell.com/blog/quickly-creating-test-users-in-sql-server-with-powershell-using-the-sqlserver-module-and-dbatools/" target="_blank" rel="noopener"
&gt;up to date version of this post here&lt;/a&gt; using the &lt;a class="link" href="https://dbatools.io" target="_blank" rel="noopener"
&gt;dbatools module&lt;/a&gt; and the sqlserver module&lt;/p&gt;
&lt;p&gt;But if you want to continue with this way read on!!&lt;/p&gt;
&lt;p&gt;Having created &lt;a class="link" href="https://blog.robsewell.com/creating-a-windows-user-and-adding-to-a-sql-server-role-with-powershell/" target="_blank" rel="noopener"
&gt;Windows Users&lt;/a&gt; or &lt;a class="link" href="https://blog.robsewell.com/creating-sql-user-and-adding-to-server-role-with-powershell/" target="_blank" rel="noopener"
&gt;SQL Users&lt;/a&gt; using the last two days posts, today we shall add them to a role on a database.&lt;/p&gt;
&lt;p&gt;As I discussed &lt;a class="link" href="https://blog.robsewell.com/checking-sql-server-user-role-membership-with-powershell/" target="_blank" rel="noopener"
&gt;previously&lt;/a&gt; I believe that to follow good practice I try to ensure that database permissions are granted by role membership and each role is created with the minimum amount of permissions required for successful execution of the task involved.&lt;/p&gt;</description></item></channel></rss>